PREFIX ddi: <http://ddi-alliance.org/ns/#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
PREFIX umld: <http://schema.omg.org/spec/UML/2.1/uml.xml#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX shexmi: <http://www.w3.org/ns/shex-xmi#>
PREFIX mark: <https://github.com/commonmark/commonmark.js>

ddi:ConceptSystem {
  ddi:baseProp ["a" "b"];
  ddi:baseP2 xsd:string;
    ddi:name xsd:string;
#  | ddi:givenName xsd:string;
    ddi:familyName xsd:string;
  ddi:agency xsd:string ;
  ddi:id xsd:string ;
  ddi:version xsd:string ;
  ddi:versionResponsibility xsd:string ?;
  ddi:versionRationale xsd:string ?;
  ddi:versionDate ddi:IsoDateType ?;
  ddi:isUniversallyUnique xsd:boolean ;
  ddi:isPersistent xsd:boolean ;
  ddi:localId  {
      ddi:localIdValue xsd:string ;
      ddi:localIdType xsd:string ;
      ddi:localIdVersion xsd:string ?;
  } *;
  ddi:basedOnObject  {
      ddi:basedOnRationaleDescription @ddi:InternationalString ?;
      ddi:basedOnRationaleCode @ddi:ExternalControlledVocabularyEntry ?;
      ddi:basedOn @ddi:Identifiable *;
  } ?;
  ddi:hasAnnotation @ddi:Annotation ?;
  ddi:relatedMaterial @ddi:ExternalMaterial *;
  # ddi:type @ddi:CollectionType ?;
  a [ddi:Foo ddi:Bar];
  ddi:name @ddi:ObjectName *;
  ddi:purpose @ddi:InternationalStructuredString ?;
  ddi:contains  {
      ddi:index xsd:integer ?;
      ddi:member @ddi:Concept *;
  } *;
  ddi:isOrdered xsd:boolean ?;
  ddi:isStructuredBy {
      ddi:agency xsd:string ;
      ddi:id xsd:string ;
      ddi:version xsd:string ;
      ddi:versionResponsibility xsd:string ?;
      ddi:versionRationale xsd:string ?;
      ddi:versionDate ddi:IsoDateType ?;
      ddi:isUniversallyUnique xsd:boolean ;
      ddi:isPersistent xsd:boolean ;
      ddi:localId  {
          ddi:localIdValue xsd:string ;
          ddi:localIdType xsd:string ;
          ddi:localIdVersion xsd:string ?;
      } *;
      ddi:basedOnObject  {
          ddi:basedOnRationaleDescription @ddi:InternationalString ?;
          ddi:basedOnRationaleCode @ddi:ExternalControlledVocabularyEntry ?;
          ddi:basedOn @ddi:Identifiable *;
      } ?;
      ddi:hasRelationSpecification @ddi:RelationSpecification ;
      ddi:semantic @ddi:ExternalControlledVocabularyEntry ?;
      ddi:totality @ddi:TotalityType ?;
      ddi:hasMemberRelation  {
          ddi:hasRelationSepcification @ddi:RelationSpecification ;
          ddi:semantic @ddi:ExternalControlledVocabularyEntry ?;
          ddi:totality @ddi:TotalityType ?;
          ddi:source @ddi:Concept *;
          ddi:target @ddi:Concept *;
      } *;
  } *;
  ddi:definingConcept @ddi:Concept *;
} // rdfs:definedBy <http://lion.ddialliance.org/ddiobjects/relationspecification>
 // shexmi:package "package 1"
 // shexmi:comment """Heading 1
=========
Text:
1.  numbered
2.  list

Heading 2
=========
More text.
"""^^mark:

ddi:CollectionType [
  ddi:Bag
  ddi:Set
]
# // shexmi:package "package 1"

ddi:AnnotatedIdentifiable {
  ddi:agency xsd:string ;
  ddi:id xsd:string ;
  ddi:version xsd:string ;
  ddi:versionResponsibility xsd:string ?;
  ddi:versionRationale xsd:string ?;
  ddi:versionDate ddi:IsoDateType ?;
  ddi:isUniversallyUnique xsd:boolean ;
  ddi:isPersistent xsd:boolean ;
  ddi:localId  {
      ddi:localIdValue xsd:string ;
      ddi:localIdType xsd:string ;
      ddi:localIdVersion xsd:string ?;
  } *;
  ddi:basedOnObject  {
      ddi:basedOnRationaleDescription @ddi:InternationalString ?;
      ddi:basedOnRationaleCode @ddi:ExternalControlledVocabularyEntry ?;
      ddi:basedOn @ddi:Identifiable *;
  } ?;
  ddi:hasAnnotation @ddi:Annotation ?;
  ddi:relatedMaterial @ddi:ExternalMaterial *;
} // shexmi:package "package 1"

ddi:Identifiable {
  ddi:agency xsd:string ;
  ddi:id xsd:string ;
  ddi:version xsd:string ;
  ddi:versionResponsibility xsd:string ?;
  ddi:versionRationale xsd:string ?;
  ddi:versionDate ddi:IsoDateType ?;
  ddi:isUniversallyUnique xsd:boolean ;
  ddi:isPersistent xsd:boolean ;
  ddi:localId  {
      ddi:localIdValue xsd:string ;
      ddi:localIdType xsd:string ;
      ddi:localIdVersion xsd:string ?;
  } *;
  ddi:basedOnObject  {
      ddi:basedOnRationaleDescription @ddi:InternationalString ?;
      ddi:basedOnRationaleCode @ddi:ExternalControlledVocabularyEntry ?;
      ddi:basedOn @ddi:Identifiable *;
  } ?;
} // shexmi:package "package 2"

ddi:ObjectName {
  ddi:content xsd:string ?;
  ddi:context @ddi:ExternalControlledVocabularyEntry ?;
} // shexmi:package "package 2"

ddi:ExternalControlledVocabularyEntry {
  ddi:controlledVocabularyID xsd:string ?;
  ddi:controlledVocabularyName xsd:string ?;
  ddi:controlledVocabularyAgencyName xsd:string ?;
  ddi:controlledVocabularyVersionID xsd:string ?;
  ddi:otherValue xsd:string ?;
  ddi:uri ddi:anyURI ?;
  ddi:content xsd:string ?;
  ddi:language ddi:language ?;
} // shexmi:package "package 3"

ddi:InternationalStructuredString {
  ddi:languageSpecificStructuredString @ddi:LanguageSpecificStructuredStringType +;
} // shexmi:package "package 3"

ddi:LanguageSpecificStructuredStringType {
  ddi:formattedContent xsd:string +;
  ddi:language ddi:language ?;
  ddi:isTranslated xsd:boolean ?;
  ddi:isTranslatable xsd:boolean ?;
  ddi:translationSourceLanguage ddi:language *;
  ddi:translationDate umld:UnlimitedNatural ?;
  ddi:isPlainText xsd:boolean ?;
} // shexmi:package "package 3"

ddi:Concept {
  ddi:agency xsd:string ;
  ddi:id xsd:string ;
  ddi:version xsd:string ;
  ddi:versionResponsibility xsd:string ?;
  ddi:versionRationale xsd:string ?;
  ddi:versionDate ddi:IsoDateType ?;
  ddi:isUniversallyUnique xsd:boolean ;
  ddi:isPersistent xsd:boolean ;
  ddi:localId  {
      ddi:localIdValue xsd:string ;
      ddi:localIdType xsd:string ;
      ddi:localIdVersion xsd:string ?;
  } *;
  ddi:basedOnObject  {
      ddi:basedOnRationaleDescription @ddi:InternationalString ?;
      ddi:basedOnRationaleCode @ddi:ExternalControlledVocabularyEntry ?;
      ddi:basedOn @ddi:Identifiable *;
  } ?;
  ddi:hasAnnotation @ddi:Annotation ?;
  ddi:relatedMaterial @ddi:ExternalMaterial *;
  ddi:name @ddi:ObjectName *;
  ddi:definition @ddi:InternationalStructuredString ?;
} // shexmi:package "package 3"

ddi:RelationSpecification [
  ddi:Unordered
  ddi:List
  ddi:ParentChild
  ddi:WholePart
  ddi:AcyclicPrecedence
  ddi:Equivalence
  ddi:GeneralSpecfic
]
# // shexmi:package "package 3"

ddi:TotalityType [
  ddi:Total
  ddi:Partial
  ddi:Unknown
]
# // shexmi:package "package 3"

